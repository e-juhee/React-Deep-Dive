# 11.3 Next.js에서의 리액트 서버 컴포넌트

> ### You will learn 📝
>
>- 11.3.1 새로운 fetch 도입과 getServerSideProps, getStaticProps, getInitialProps의 삭제
>- 11.3.2 정적 렌더링과 동적 렌더링
>- 11.3.3 캐시와 mutating, 그리고 revalidating
>- 11.3.4 스트리밍을 활용한 점진적인 페이지 불러오기

### Q1. 스트리밍의 도입 배경과 장점을 설명하고 Next.js에서는 어떻게 활용할 수 있는지 설명해주세요. (경민)
- 전통적인 서버사이드 렌더링에서는 해당 페이지를 통째로 렌더링해서 클라이언트에 전송하기 전에는 사용자가 아무것도 없는 빈 페이지를 봐야 했음
- 그 문제를 해결하기 위해 html을 잘게 쪼개서 클라이언트로 전송하는 방식이 스트리밍
- 장점
  - 핵심 웹 지표인 최초 바이트(TTFB)까지의 시간, 최초 컨텐츠풀 페인팅(FCP)을 개선하는데 도움이 된다
- next.js에서 활용방법
  - 렌더링이 완료되기 전에 (렌더링경로)/loading.tsx 컴포넌트를 보여주는 것 (로딩중에는 Suspense가 보이게 됨)
  - 직접적으로 loading 컴포넌트를 보여주려면 React의 Suspense 컴포넌트를 import해서 사용하면 된다

### Q2. Next.js의 정적인 렌더링과 동적인 렌더링 간 캐싱 시점의 차이에 대해 설명해주세요. (유진)
- 정적인 라우팅 : 빌드 타임에 렌더링을 미리 해둠. 캐싱해서 재사용할 수 있게 함
- 동적 라우팅 : 서버에 매번 요청이 올 때마다 컴포넌트를 렌더링하도록 변경 -> 캐싱이 안됨

### Q3. Next.js 13버전에서 새롭게 생긴 옵션인 revalidate에 대해 설명하세요. (채림)
- revalidate 시간 동안은 캐시가 유지되고, 시간이 지나면 캐시가 파기됨
- revalidate는 정적인 페이지를 동적으로 갱신할 수 있게 해줌
  - 처음에는 캐시된 (빌드 타임에 렌더링 된) 데이터를 보여주고 revalidate된 시간이 지나면
  - 일단은 캐시된 데이터를 보여주고 백그라운드에서 다시 데이터를 불러옴
